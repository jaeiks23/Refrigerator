<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="_csrf" th:content="${_csrf.token}">
<meta name="_csrf_header" th:content="${_csrf.headerName}">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
<script th:inline="javascript">
function commentResend(){
	  var token=$("meta[name='_csrf']").attr("content");
	  var header=$("meta[name='_csrf_header']").attr("content")
	  var boardId = $('#boardId').val();
	  var commentId = $('#commentId').val();
	  var content = $('#content').val();
	  if(boardId==1){
		  var url = '/recipeBoard/recipeCommentResend/'+commentId;
		  $.ajax({
			 url : url,
			 type : 'POST',
			 data : {
				content : content 
			 },
			 beforeSend : function(xhr){
			        xhr.setRequestHeader(header,token);
			 },
			 success : function(result){
				 window.close();
			 },
			 error : function(){
				 alert('error')
			 }
		  });
	  }else if(boardId==2){
		  var url = "/cookBoard/CookCommentReWriting/"+commentId;
		  $.ajax({
				 url : url,
				 type : 'POST',
				 data : {
					content : content 
				 },
				 beforeSend : function(xhr){
				        xhr.setRequestHeader(header,token);
				 },
				 success : function(result){
					 window.close();
				 },
				 error : function(){
					 alert('error')
				 }
			});
	  }
}
</script>
</head>
<body>
	
	<label>수정 내용 : </label>
	<input type="text" th:value="${content}" id="content"/>
	<input type="hidden" th:value="${commentId}" id="commentId"/>
	<input type="hidden" th:value="${boardId}" id="boardId"/>
	<button type="button" onclick="commentResend()">수정</button>

</body>
</html>